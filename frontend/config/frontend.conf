upstream api {
    server unix:///code/jumpcut/backend/src/api-uwsgi.sock; # for a file socket
}
server {

    listen 443 ssl default_server;
    include /etc/nginx/ssl/ssl_params;
    charset utf-8;

    server_name pinigseu.xyz www.pinigseu.xyz default_server;
    location / {
        root /code/jumpcut/frontend/dist;
        try_files $uri /index.html;
    }

    location /api/v1/ {

        uwsgi_pass api;
        include uwsgi_params; # the uwsgi_params file you installed
        proxy_http_version 1.1;


    }

}


server {

    listen 80;
    charset utf-8;

    server_name pinigseu.xyz www.pinigseu.xyz default_server;
    return 301 https://$server_name$request_uri;
}
